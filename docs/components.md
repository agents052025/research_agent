# Компоненти дослідницького агента

## Основні модулі та класи

### Клас ResearchAgent

Основний клас, що координує всю роботу дослідницького агента. Його відповідальність - ініціалізація всіх компонентів, обробка запитів користувача та управління процесом дослідження.

**Ключові методи**:
- `__init__(config)`: Ініціалізація агента з конфігурацією
- `process_query(query)`: Обробка дослідницького запиту
- `detect_language(text)`: Визначення мови вхідного тексту
- `_format_results(agent_results)`: Форматування результатів дослідження

### ResearchPlanner

Відповідає за створення плану дослідження на основі запиту користувача. Розбиває складне дослідницьке завдання на логічні послідовні кроки.

**Ключові методи**:
- `create_plan(query)`: Створення плану дослідження
- `estimate_steps(query)`: Оцінка необхідної кількості кроків

### ContextManager

Управляє контекстом дослідження, зберігаючи проміжні результати та стан.

## Інструменти (Tools)

### SearchAPITool

Інструмент для виконання пошукових запитів через різні API-інтерфейси.

**Особливості**:
- Підтримка BraveSearch API (основний для українських запитів)
- Підтримка Serper API (резервний варіант)
- Автоматичне визначення найкращого движка для запиту

### URLFetcherTool

Завантажує та обробляє контент з веб-ресурсів за URL-адресами.

**Ключові методи**:
- `fetch_url(url)`: Завантаження вмісту за URL
- `extract_text(html)`: Витяг тексту з HTML-вмісту

### PDFReaderTool

Читає та обробляє PDF-файли, витягуючи текст та структуру документа.

**Особливості**:
- Обмеження на максимальну кількість сторінок
- Витяг метаданих документа
- Обробка таблиць та зображень

### DataAnalysisTool

Виконує аналіз даних, включаючи:
- Статистичний аналіз
- Класифікацію тексту
- Кластеризацію даних
- Виявлення трендів та аномалій

**Ключові методи**:
- `analyze_text(text, options)`: Аналіз текстових даних
- `analyze_numerical(data, options)`: Аналіз числових даних
- `forward(action, data, options)`: Диспетчеризація до відповідного методу аналізу

### VisualizationTool

Створює візуалізації на основі даних для включення в дослідницькі звіти.

**Типи візуалізацій**:
- Гістограми
- Лінійні графіки
- Діаграми розсіювання
- Теплові карти
- Таблиці даних

### DatabaseTool

Управляє збереженням та отриманням даних з локальної бази даних SQLite.

**Ключові методи**:
- `store_data(key, value, data_type)`: Зберігання даних різних типів
- `get_data(key)`: Отримання даних за ключем
- `save_results(results)`: Збереження результатів дослідження
- `search_cached_results(query)`: Пошук у кешованих результатах

## Допоміжні модулі

### Language Strings

Містить локалізовані рядки для різних мов підтримки.

**Функції**:
- `get_string(key, language)`: Отримання локалізованого рядка

### Results Enhancer

Покращує якість та структуру результатів дослідження.

**Функціональність**:
- Додавання структури до неструктурованого тексту
- Виявлення та покращення цитат
- Форматування та стилізація звіту
